<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Base that makes web application development simple and fast with FastAPI and Edgy ORM"><meta name=author content="Krafter SAS"><link href=https://krafterio.github.io/fastedgy/dev/features/container-service/technical/ rel=canonical><link href=../advanced/ rel=prev><link href=../../queued-tasks/overview/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.19"><title>Technical Details - FastEdgy</title><link rel=stylesheet href=../../../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../stylesheets/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=blue-grey> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#container-service-technical-details class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=FastEdgy class="md-header__button md-logo" aria-label=FastEdgy data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> FastEdgy </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Technical Details </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=blue-grey aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=blue-grey aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/krafterio/fastedgy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> krafterio/fastedgy </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../getting-started/ class=md-tabs__link> Getting Started </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../ class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=../../../vue/getting-started/ class=md-tabs__link> Vue.js </a> </li> <li class=md-tabs__item> <a href=../../../mcp/ class=md-tabs__link> MCP </a> </li> <li class=md-tabs__item> <a href=../../../ai-rules/overview/ class=md-tabs__link> AI </a> </li> <li class=md-tabs__item> <a href=../../../about/ class=md-tabs__link> About </a> </li> <li class=md-tabs__item> <a href=../../../contributing/ class=md-tabs__link> Contributing </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=FastEdgy class="md-nav__button md-logo" aria-label=FastEdgy data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> FastEdgy </label> <div class=md-nav__source> <a href=https://github.com/krafterio/fastedgy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> krafterio/fastedgy </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> Features </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Features </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex> <span class=md-ellipsis> API Features </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> API Features </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../api-routes/overview/ class=md-nav__link> <span class=md-ellipsis> API Routes Generator </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../pagination/overview/ class=md-nav__link> <span class=md-ellipsis> Pagination </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../ordering/overview/ class=md-nav__link> <span class=md-ellipsis> Ordering </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../query-builder/overview/ class=md-nav__link> <span class=md-ellipsis> Query Builder </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../fields-selector/overview/ class=md-nav__link> <span class=md-ellipsis> Fields Selector </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../metadata-generator/overview/ class=md-nav__link> <span class=md-ellipsis> Metadata Generator </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../view-transformers/overview/ class=md-nav__link> <span class=md-ellipsis> View Transformers </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex> <span class=md-ellipsis> ORM Features </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> ORM Features </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../orm-extensions/overview/ class=md-nav__link> <span class=md-ellipsis> Edgy ORM Extensions </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../orm-migration/overview/ class=md-nav__link> <span class=md-ellipsis> Database Migration </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4 checked> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex> <span class=md-ellipsis> Core Features </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=true> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Core Features </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_1 checked> <label class=md-nav__link for=__nav_3_4_1 id=__nav_3_4_1_label tabindex=0> <span class=md-ellipsis> Container Service </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_4_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_4_1> <span class="md-nav__icon md-icon"></span> Container Service </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../guide/ class=md-nav__link> <span class=md-ellipsis> User Guide </span> </a> </li> <li class=md-nav__item> <a href=../advanced/ class=md-nav__link> <span class=md-ellipsis> Advanced Usage </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Technical Details </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Technical Details </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#why-build-on-fastapi-instead-of-external-di-libraries class=md-nav__link> <span class=md-ellipsis> Why Build on FastAPI Instead of External DI Libraries? </span> </a> <nav class=md-nav aria-label="Why Build on FastAPI Instead of External DI Libraries?"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vs-dependency-injector class=md-nav__link> <span class=md-ellipsis> vs Dependency Injector </span> </a> </li> <li class=md-nav__item> <a href=#vs-injector-google-guice-style class=md-nav__link> <span class=md-ellipsis> vs Injector (Google Guice Style) </span> </a> </li> <li class=md-nav__item> <a href=#the-fastedgy-philosophy class=md-nav__link> <span class=md-ellipsis> The FastEdgy Philosophy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#architecture-overview class=md-nav__link> <span class=md-ellipsis> Architecture Overview </span> </a> <nav class=md-nav aria-label="Architecture Overview"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#key-concepts class=md-nav__link> <span class=md-ellipsis> Key Concepts </span> </a> </li> <li class=md-nav__item> <a href=#registration-process class=md-nav__link> <span class=md-ellipsis> Registration Process </span> </a> </li> <li class=md-nav__item> <a href=#dependency-resolution-process class=md-nav__link> <span class=md-ellipsis> Dependency Resolution Process </span> </a> </li> <li class=md-nav__item> <a href=#integration-with-fastapi class=md-nav__link> <span class=md-ellipsis> Integration with FastAPI </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#implementation-details class=md-nav__link> <span class=md-ellipsis> Implementation Details </span> </a> <nav class=md-nav aria-label="Implementation Details"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#type-system-integration class=md-nav__link> <span class=md-ellipsis> Type System Integration </span> </a> </li> <li class=md-nav__item> <a href=#singleton-management class=md-nav__link> <span class=md-ellipsis> Singleton Management </span> </a> </li> <li class=md-nav__item> <a href=#error-handling class=md-nav__link> <span class=md-ellipsis> Error Handling </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#performance-characteristics class=md-nav__link> <span class=md-ellipsis> Performance Characteristics </span> </a> <nav class=md-nav aria-label="Performance Characteristics"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#service-creation-overhead class=md-nav__link> <span class=md-ellipsis> Service Creation Overhead </span> </a> </li> <li class=md-nav__item> <a href=#comparison-with-fastapi-native class=md-nav__link> <span class=md-ellipsis> Comparison with FastAPI Native </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-internals class=md-nav__link> <span class=md-ellipsis> Advanced Internals </span> </a> <nav class=md-nav aria-label="Advanced Internals"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dependency-graph-resolution class=md-nav__link> <span class=md-ellipsis> Dependency Graph Resolution </span> </a> </li> <li class=md-nav__item> <a href=#lazy-evaluation-strategy class=md-nav__link> <span class=md-ellipsis> Lazy Evaluation Strategy </span> </a> </li> <li class=md-nav__item> <a href=#memory-management class=md-nav__link> <span class=md-ellipsis> Memory Management </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#testing-integration class=md-nav__link> <span class=md-ellipsis> Testing Integration </span> </a> <nav class=md-nav aria-label="Testing Integration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#service-isolation class=md-nav__link> <span class=md-ellipsis> Service Isolation </span> </a> </li> <li class=md-nav__item> <a href=#dependency-mocking class=md-nav__link> <span class=md-ellipsis> Dependency Mocking </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#debugging-and-introspection class=md-nav__link> <span class=md-ellipsis> Debugging and Introspection </span> </a> <nav class=md-nav aria-label="Debugging and Introspection"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#service-registry-inspection class=md-nav__link> <span class=md-ellipsis> Service Registry Inspection </span> </a> </li> <li class=md-nav__item> <a href=#dependency-tracing class=md-nav__link> <span class=md-ellipsis> Dependency Tracing </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#best-practices-for-large-applications class=md-nav__link> <span class=md-ellipsis> Best Practices for Large Applications </span> </a> <nav class=md-nav aria-label="Best Practices for Large Applications"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#service-organization class=md-nav__link> <span class=md-ellipsis> Service Organization </span> </a> </li> <li class=md-nav__item> <a href=#service-registration-strategy class=md-nav__link> <span class=md-ellipsis> Service Registration Strategy </span> </a> </li> <li class=md-nav__item> <a href=#monitoring-and-health-checks class=md-nav__link> <span class=md-ellipsis> Monitoring and Health Checks </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#migration-from-other-di-systems class=md-nav__link> <span class=md-ellipsis> Migration from Other DI Systems </span> </a> <nav class=md-nav aria-label="Migration from Other DI Systems"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#from-manual-dependencies class=md-nav__link> <span class=md-ellipsis> From Manual Dependencies </span> </a> </li> <li class=md-nav__item> <a href=#from-fastapi-depends class=md-nav__link> <span class=md-ellipsis> From FastAPI Depends() </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#performance-tuning class=md-nav__link> <span class=md-ellipsis> Performance Tuning </span> </a> <nav class=md-nav aria-label="Performance Tuning"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#service-creation-optimization class=md-nav__link> <span class=md-ellipsis> Service Creation Optimization </span> </a> </li> <li class=md-nav__item> <a href=#memory-usage-monitoring class=md-nav__link> <span class=md-ellipsis> Memory Usage Monitoring </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> <li class=md-nav__item> <a href=#quick-reference class=md-nav__link> <span class=md-ellipsis> Quick Reference </span> </a> <nav class=md-nav aria-label="Quick Reference"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#core-functions class=md-nav__link> <span class=md-ellipsis> Core Functions </span> </a> </li> <li class=md-nav__item> <a href=#advanced-features class=md-nav__link> <span class=md-ellipsis> Advanced Features </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../queued-tasks/overview/ class=md-nav__link> <span class=md-ellipsis> Queued Tasks </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../cli/overview/ class=md-nav__link> <span class=md-ellipsis> CLI </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../i18n/overview/ class=md-nav__link> <span class=md-ellipsis> Internationalization </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../multi-tenant/overview/ class=md-nav__link> <span class=md-ellipsis> Multi Tenant </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex> <span class=md-ellipsis> Services </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Services </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../email/overview/ class=md-nav__link> <span class=md-ellipsis> Email </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../storage/overview/ class=md-nav__link> <span class=md-ellipsis> Storage </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex> <span class=md-ellipsis> Miscellaneous Features </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Miscellaneous Features </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../auth/overview/ class=md-nav__link> <span class=md-ellipsis> Authentication </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../vue/getting-started/ class=md-nav__link> <span class=md-ellipsis> Vue.js </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../mcp/ class=md-nav__link> <span class=md-ellipsis> MCP </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../ai-rules/overview/ class=md-nav__link> <span class=md-ellipsis> AI </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../about/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> <li class=md-nav__item> <a href=../../../contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#why-build-on-fastapi-instead-of-external-di-libraries class=md-nav__link> <span class=md-ellipsis> Why Build on FastAPI Instead of External DI Libraries? </span> </a> <nav class=md-nav aria-label="Why Build on FastAPI Instead of External DI Libraries?"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vs-dependency-injector class=md-nav__link> <span class=md-ellipsis> vs Dependency Injector </span> </a> </li> <li class=md-nav__item> <a href=#vs-injector-google-guice-style class=md-nav__link> <span class=md-ellipsis> vs Injector (Google Guice Style) </span> </a> </li> <li class=md-nav__item> <a href=#the-fastedgy-philosophy class=md-nav__link> <span class=md-ellipsis> The FastEdgy Philosophy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#architecture-overview class=md-nav__link> <span class=md-ellipsis> Architecture Overview </span> </a> <nav class=md-nav aria-label="Architecture Overview"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#key-concepts class=md-nav__link> <span class=md-ellipsis> Key Concepts </span> </a> </li> <li class=md-nav__item> <a href=#registration-process class=md-nav__link> <span class=md-ellipsis> Registration Process </span> </a> </li> <li class=md-nav__item> <a href=#dependency-resolution-process class=md-nav__link> <span class=md-ellipsis> Dependency Resolution Process </span> </a> </li> <li class=md-nav__item> <a href=#integration-with-fastapi class=md-nav__link> <span class=md-ellipsis> Integration with FastAPI </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#implementation-details class=md-nav__link> <span class=md-ellipsis> Implementation Details </span> </a> <nav class=md-nav aria-label="Implementation Details"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#type-system-integration class=md-nav__link> <span class=md-ellipsis> Type System Integration </span> </a> </li> <li class=md-nav__item> <a href=#singleton-management class=md-nav__link> <span class=md-ellipsis> Singleton Management </span> </a> </li> <li class=md-nav__item> <a href=#error-handling class=md-nav__link> <span class=md-ellipsis> Error Handling </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#performance-characteristics class=md-nav__link> <span class=md-ellipsis> Performance Characteristics </span> </a> <nav class=md-nav aria-label="Performance Characteristics"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#service-creation-overhead class=md-nav__link> <span class=md-ellipsis> Service Creation Overhead </span> </a> </li> <li class=md-nav__item> <a href=#comparison-with-fastapi-native class=md-nav__link> <span class=md-ellipsis> Comparison with FastAPI Native </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-internals class=md-nav__link> <span class=md-ellipsis> Advanced Internals </span> </a> <nav class=md-nav aria-label="Advanced Internals"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dependency-graph-resolution class=md-nav__link> <span class=md-ellipsis> Dependency Graph Resolution </span> </a> </li> <li class=md-nav__item> <a href=#lazy-evaluation-strategy class=md-nav__link> <span class=md-ellipsis> Lazy Evaluation Strategy </span> </a> </li> <li class=md-nav__item> <a href=#memory-management class=md-nav__link> <span class=md-ellipsis> Memory Management </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#testing-integration class=md-nav__link> <span class=md-ellipsis> Testing Integration </span> </a> <nav class=md-nav aria-label="Testing Integration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#service-isolation class=md-nav__link> <span class=md-ellipsis> Service Isolation </span> </a> </li> <li class=md-nav__item> <a href=#dependency-mocking class=md-nav__link> <span class=md-ellipsis> Dependency Mocking </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#debugging-and-introspection class=md-nav__link> <span class=md-ellipsis> Debugging and Introspection </span> </a> <nav class=md-nav aria-label="Debugging and Introspection"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#service-registry-inspection class=md-nav__link> <span class=md-ellipsis> Service Registry Inspection </span> </a> </li> <li class=md-nav__item> <a href=#dependency-tracing class=md-nav__link> <span class=md-ellipsis> Dependency Tracing </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#best-practices-for-large-applications class=md-nav__link> <span class=md-ellipsis> Best Practices for Large Applications </span> </a> <nav class=md-nav aria-label="Best Practices for Large Applications"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#service-organization class=md-nav__link> <span class=md-ellipsis> Service Organization </span> </a> </li> <li class=md-nav__item> <a href=#service-registration-strategy class=md-nav__link> <span class=md-ellipsis> Service Registration Strategy </span> </a> </li> <li class=md-nav__item> <a href=#monitoring-and-health-checks class=md-nav__link> <span class=md-ellipsis> Monitoring and Health Checks </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#migration-from-other-di-systems class=md-nav__link> <span class=md-ellipsis> Migration from Other DI Systems </span> </a> <nav class=md-nav aria-label="Migration from Other DI Systems"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#from-manual-dependencies class=md-nav__link> <span class=md-ellipsis> From Manual Dependencies </span> </a> </li> <li class=md-nav__item> <a href=#from-fastapi-depends class=md-nav__link> <span class=md-ellipsis> From FastAPI Depends() </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#performance-tuning class=md-nav__link> <span class=md-ellipsis> Performance Tuning </span> </a> <nav class=md-nav aria-label="Performance Tuning"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#service-creation-optimization class=md-nav__link> <span class=md-ellipsis> Service Creation Optimization </span> </a> </li> <li class=md-nav__item> <a href=#memory-usage-monitoring class=md-nav__link> <span class=md-ellipsis> Memory Usage Monitoring </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> <li class=md-nav__item> <a href=#quick-reference class=md-nav__link> <span class=md-ellipsis> Quick Reference </span> </a> <nav class=md-nav aria-label="Quick Reference"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#core-functions class=md-nav__link> <span class=md-ellipsis> Core Functions </span> </a> </li> <li class=md-nav__item> <a href=#advanced-features class=md-nav__link> <span class=md-ellipsis> Advanced Features </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/krafterio/fastedgy/edit/main/docs/features/container-service/technical.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href=https://github.com/krafterio/fastedgy/raw/main/docs/features/container-service/technical.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1 id=container-service-technical-details>Container Service Technical Details<a class=headerlink href=#container-service-technical-details title="Permanent link">&para;</a></h1> <p>Deep dive into the Container Service architecture, implementation details, and comparisons with other dependency injection systems.</p> <h2 id=why-build-on-fastapi-instead-of-external-di-libraries>Why Build on FastAPI Instead of External DI Libraries?<a class=headerlink href=#why-build-on-fastapi-instead-of-external-di-libraries title="Permanent link">&para;</a></h2> <p>Popular Python dependency injection libraries like <strong>Dependency Injector</strong> and <strong>Injector</strong> offer powerful features, but FastEdgy's Container Service provides several advantages specifically for FastAPI applications.</p> <h3 id=vs-dependency-injector>vs Dependency Injector<a class=headerlink href=#vs-dependency-injector title="Permanent link">&para;</a></h3> <p><strong>Dependency Injector</strong> is feature-rich but introduces additional complexity and learning curve:</p> <p><strong>FastEdgy Advantages:</strong> - <strong>Native FastAPI Integration</strong>: No conflicts between FastAPI's <code>Depends()</code> and external DI systems - <strong>Zero Additional Dependencies</strong>: Built on FastAPI's existing infrastructure - <strong>Simplified Learning Curve</strong>: Same patterns and syntax as FastAPI - <strong>Type Safety</strong>: Leverages FastAPI's existing type resolution without additional configuration - <strong>Automatic Resolution</strong>: Works out-of-the-box without complex container configuration files</p> <p><strong>Dependency Injector Comparison:</strong> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c1># Dependency Injector approach - requires configuration</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=kn>from</span><span class=w> </span><span class=nn>dependency_injector</span><span class=w> </span><span class=kn>import</span> <span class=n>containers</span><span class=p>,</span> <span class=n>providers</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=k>class</span><span class=w> </span><span class=nc>Container</span><span class=p>(</span><span class=n>containers</span><span class=o>.</span><span class=n>DeclarativeContainer</span><span class=p>):</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>config</span> <span class=o>=</span> <span class=n>providers</span><span class=o>.</span><span class=n>Configuration</span><span class=p>()</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    <span class=n>database</span> <span class=o>=</span> <span class=n>providers</span><span class=o>.</span><span class=n>Singleton</span><span class=p>(</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>        <span class=n>DatabaseService</span><span class=p>,</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>        <span class=n>connection_string</span><span class=o>=</span><span class=n>config</span><span class=o>.</span><span class=n>database_url</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>    <span class=p>)</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>    <span class=n>email_service</span> <span class=o>=</span> <span class=n>providers</span><span class=o>.</span><span class=n>Factory</span><span class=p>(</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>        <span class=n>EmailService</span><span class=p>,</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>        <span class=n>smtp_host</span><span class=o>=</span><span class=n>config</span><span class=o>.</span><span class=n>smtp_host</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a>    <span class=p>)</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a><span class=c1># FastEdgy approach - zero configuration</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a><span class=k>class</span><span class=w> </span><span class=nc>DatabaseService</span><span class=p>:</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config</span><span class=p>:</span> <span class=n>AppConfig</span><span class=p>):</span>  <span class=c1># Auto-resolved</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a>        <span class=bp>self</span><span class=o>.</span><span class=n>connection_string</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>database_url</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a><span class=c1># Just use it - no container setup needed</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a><span class=n>db</span><span class=p>:</span> <span class=n>DatabaseService</span> <span class=o>=</span> <span class=n>Inject</span><span class=p>(</span><span class=n>DatabaseService</span><span class=p>)</span>
</span></code></pre></div></p> <h3 id=vs-injector-google-guice-style>vs Injector (Google Guice Style)<a class=headerlink href=#vs-injector-google-guice-style title="Permanent link">&para;</a></h3> <p><strong>Injector</strong> provides clean dependency injection but requires a different mental model:</p> <p><strong>FastEdgy Advantages:</strong> - <strong>Consistent API</strong>: Uses familiar FastAPI patterns rather than decorators like <code>@inject</code> - <strong>Request Context Compatibility</strong>: Seamlessly handles both application-level and request-scoped dependencies - <strong>No Learning Overhead</strong>: Developers already familiar with FastAPI can use it immediately - <strong>Unified Ecosystem</strong>: Everything works together - CLI, API endpoints, background tasks</p> <p><strong>Injector Comparison:</strong> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1># Injector approach - different patterns</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=kn>from</span><span class=w> </span><span class=nn>injector</span><span class=w> </span><span class=kn>import</span> <span class=n>inject</span><span class=p>,</span> <span class=n>Injector</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=k>class</span><span class=w> </span><span class=nc>UserService</span><span class=p>:</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>    <span class=nd>@inject</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>db</span><span class=p>:</span> <span class=n>DatabaseService</span><span class=p>,</span> <span class=n>email</span><span class=p>:</span> <span class=n>EmailService</span><span class=p>):</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>        <span class=bp>self</span><span class=o>.</span><span class=n>db</span> <span class=o>=</span> <span class=n>db</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>        <span class=bp>self</span><span class=o>.</span><span class=n>email</span> <span class=o>=</span> <span class=n>email</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=n>injector</span> <span class=o>=</span> <span class=n>Injector</span><span class=p>()</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=n>user_service</span> <span class=o>=</span> <span class=n>injector</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>UserService</span><span class=p>)</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=c1># FastEdgy approach - FastAPI-native</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=k>class</span><span class=w> </span><span class=nc>UserService</span><span class=p>:</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>db</span><span class=p>:</span> <span class=n>DatabaseService</span><span class=p>,</span> <span class=n>email</span><span class=p>:</span> <span class=n>EmailService</span><span class=p>):</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a>        <span class=bp>self</span><span class=o>.</span><span class=n>db</span> <span class=o>=</span> <span class=n>db</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a>        <span class=bp>self</span><span class=o>.</span><span class=n>email</span> <span class=o>=</span> <span class=n>email</span>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a><span class=c1># Works in FastAPI endpoints naturally</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a><span class=nd>@router</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;/users&quot;</span><span class=p>)</span>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>create_user</span><span class=p>(</span><span class=n>service</span><span class=p>:</span> <span class=n>UserService</span> <span class=o>=</span> <span class=n>Inject</span><span class=p>(</span><span class=n>UserService</span><span class=p>)):</span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a>    <span class=k>return</span> <span class=n>service</span><span class=o>.</span><span class=n>create_user</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></code></pre></div></p> <h3 id=the-fastedgy-philosophy>The FastEdgy Philosophy<a class=headerlink href=#the-fastedgy-philosophy title="Permanent link">&para;</a></h3> <p>By building on FastAPI's native dependency system, FastEdgy ensures:</p> <ul> <li><strong>One System</strong>: No conflicts or confusion between different DI approaches</li> <li><strong>Full Compatibility</strong>: Works with all FastAPI features, middleware, and extensions</li> <li><strong>Progressive Enhancement</strong>: Adds convenience without changing fundamental FastAPI patterns</li> <li><strong>Maintenance</strong>: No external dependencies to maintain or version conflicts to resolve</li> </ul> <h2 id=architecture-overview>Architecture Overview<a class=headerlink href=#architecture-overview title="Permanent link">&para;</a></h2> <p>The Container Service is built around several core components that work together to provide dependency injection capabilities. At its heart is the <code>ContainerService</code> class which maintains a service registry, handles lazy loading, manages dependency resolution, and integrates with FastAPI's existing dependency system.</p> <h3 id=key-concepts>Key Concepts<a class=headerlink href=#key-concepts title="Permanent link">&para;</a></h3> <ol> <li><strong>Service Registry</strong>: A centralized store that maintains all registered services and their factory functions</li> <li><strong>Lazy Loading</strong>: Services are instantiated only when first requested, not during registration</li> <li><strong>Dependency Cache</strong>: Previously resolved dependencies are cached to improve performance on subsequent requests</li> <li><strong>FastAPI Integration</strong>: Seamless compatibility with FastAPI's native dependency injection system</li> </ol> <h3 id=registration-process>Registration Process<a class=headerlink href=#registration-process title="Permanent link">&para;</a></h3> <p>The registration process intelligently adapts to different input types and handles each appropriately. When registering a direct instance, it's stored immediately in the service registry. For factory functions, the callable is stored and will be invoked on first access. For class registration, a wrapper function is created that automatically resolves the class's constructor dependencies using FastAPI's dependency resolution system, then instantiates the class with those resolved dependencies.</p> <h3 id=dependency-resolution-process>Dependency Resolution Process<a class=headerlink href=#dependency-resolution-process title="Permanent link">&para;</a></h3> <p>The automatic dependency resolution follows these steps:</p> <ol> <li><strong>Inspect Class</strong>: Analyze class constructor parameters using Python's type hints</li> <li><strong>Resolve Dependencies</strong>: Use FastAPI's dependency system to resolve each parameter recursively</li> <li><strong>Create Instance</strong>: Instantiate the class with resolved dependencies</li> <li><strong>Cache Result</strong>: Store the instance as a singleton for future access</li> </ol> <h3 id=integration-with-fastapi>Integration with FastAPI<a class=headerlink href=#integration-with-fastapi title="Permanent link">&para;</a></h3> <p>The <code>Inject()</code> function creates FastAPI-compatible dependencies that integrate seamlessly with the existing dependency system. When you use <code>Inject(MyService)</code> in an endpoint, it creates a standard FastAPI dependency that retrieves the container service and then gets the requested service from it.</p> <p>What makes this integration particularly powerful is that dependencies are shared between both systems rather than duplicated. Application-level services (like database connections, configuration, or caches) registered in the Container Service are the same instances accessed through FastAPI's native <code>Depends()</code> system. This ensures consistency, avoids resource duplication, and maintains proper singleton behavior across your entire application.</p> <h2 id=implementation-details>Implementation Details<a class=headerlink href=#implementation-details title="Permanent link">&para;</a></h2> <h3 id=type-system-integration>Type System Integration<a class=headerlink href=#type-system-integration title="Permanent link">&para;</a></h3> <p>The Container Service leverages Python's type system for automatic dependency resolution:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1># The Container Service analyzes this constructor</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=k>class</span><span class=w> </span><span class=nc>NotificationService</span><span class=p>:</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>email</span><span class=p>:</span> <span class=n>EmailService</span><span class=p>,</span> <span class=n>cache</span><span class=p>:</span> <span class=n>CacheService</span><span class=p>,</span> <span class=n>config</span><span class=p>:</span> <span class=n>AppConfig</span><span class=p>):</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>        <span class=c1>#           ^^^^^^^^^^^^    ^^^^^^^^^^^^    ^^^^^^^^^^</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>        <span class=c1>#           |               |               |</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>        <span class=c1>#           These type hints drive automatic resolution</span>
</span></code></pre></div> <p>When resolving <code>NotificationService</code>, the system:</p> <ol> <li>Extracts parameter types: <code>EmailService</code>, <code>CacheService</code>, <code>AppConfig</code></li> <li>Recursively resolves each dependency</li> <li>Handles nested dependencies (e.g., if <code>EmailService</code> needs <code>AppConfig</code>)</li> <li>Creates instances in the correct order</li> <li>Caches all instances for reuse</li> </ol> <h3 id=singleton-management>Singleton Management<a class=headerlink href=#singleton-management title="Permanent link">&para;</a></h3> <p>Services follow singleton behavior by default:</p> <ul> <li><strong>First Access</strong>: Service is created and stored in the registry</li> <li><strong>Subsequent Access</strong>: Same instance is returned from cache</li> <li><strong>Thread Safety</strong>: Service creation is thread-safe for concurrent requests</li> <li><strong>Memory Management</strong>: Services live for the application lifetime</li> </ul> <h3 id=error-handling>Error Handling<a class=headerlink href=#error-handling title="Permanent link">&para;</a></h3> <p>The Container Service provides clear error messages for common issues:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=c1># Missing dependency</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>service</span> <span class=o>=</span> <span class=n>get_service</span><span class=p>(</span><span class=n>UnconfiguredService</span><span class=p>)</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=k>except</span> <span class=ne>LookupError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>    <span class=c1># Error: No instance registered for &lt;class &#39;UnconfiguredService&#39;&gt;</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=c1># Circular dependency detection</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>    <span class=n>service</span> <span class=o>=</span> <span class=n>get_service</span><span class=p>(</span><span class=n>CircularService</span><span class=p>)</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>    <span class=c1># Error: Circular dependency detected in ServiceA -&gt; ServiceB -&gt; ServiceA</span>
</span></code></pre></div> <h2 id=performance-characteristics>Performance Characteristics<a class=headerlink href=#performance-characteristics title="Permanent link">&para;</a></h2> <h3 id=service-creation-overhead>Service Creation Overhead<a class=headerlink href=#service-creation-overhead title="Permanent link">&para;</a></h3> <ul> <li><strong>Registration</strong>: O(1) - services stored in dictionary</li> <li><strong>First Resolution</strong>: O(n) where n = dependency depth</li> <li><strong>Subsequent Access</strong>: O(1) - cached instances returned</li> <li><strong>Memory</strong>: Minimal overhead, services created only when needed</li> </ul> <h3 id=comparison-with-fastapi-native>Comparison with FastAPI Native<a class=headerlink href=#comparison-with-fastapi-native title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=c1># FastAPI native - function called on every request</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=k>def</span><span class=w> </span><span class=nf>get_database</span><span class=p>():</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>    <span class=k>return</span> <span class=n>DatabaseService</span><span class=p>(</span><span class=s2>&quot;postgresql://...&quot;</span><span class=p>)</span>  <span class=c1># Created each time</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=nd>@router</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/users&quot;</span><span class=p>)</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>get_users</span><span class=p>(</span><span class=n>db</span><span class=p>:</span> <span class=n>DatabaseService</span> <span class=o>=</span> <span class=n>Depends</span><span class=p>(</span><span class=n>get_database</span><span class=p>)):</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>    <span class=k>pass</span>  <span class=c1># db is recreated for each request</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=c1># Container Service - singleton created once</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=nd>@router</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/users&quot;</span><span class=p>)</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>get_users</span><span class=p>(</span><span class=n>db</span><span class=p>:</span> <span class=n>DatabaseService</span> <span class=o>=</span> <span class=n>Inject</span><span class=p>(</span><span class=n>DatabaseService</span><span class=p>)):</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>    <span class=k>pass</span>  <span class=c1># db is reused across all requests</span>
</span></code></pre></div> <p><strong>Performance Benefits:</strong> - <strong>Reduced Memory</strong>: No duplicate service instances - <strong>Faster Response Times</strong>: No service recreation per request - <strong>Connection Pooling</strong>: Database connections properly shared - <strong>Stateful Services</strong>: Can maintain caches and state efficiently</p> <h2 id=advanced-internals>Advanced Internals<a class=headerlink href=#advanced-internals title="Permanent link">&para;</a></h2> <h3 id=dependency-graph-resolution>Dependency Graph Resolution<a class=headerlink href=#dependency-graph-resolution title="Permanent link">&para;</a></h3> <p>The Container Service builds a dependency graph and resolves it in topological order:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>AppConfig (leaf)
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a> DatabaseService(config)
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a> EmailService(config)
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a> NotificationService(email, database)
</span></code></pre></div> <p>Resolution order: <code>AppConfig</code>  <code>DatabaseService</code> + <code>EmailService</code>  <code>NotificationService</code></p> <h3 id=lazy-evaluation-strategy>Lazy Evaluation Strategy<a class=headerlink href=#lazy-evaluation-strategy title="Permanent link">&para;</a></h3> <p>Services use lazy evaluation for optimal performance:</p> <ol> <li><strong>Registration Phase</strong>: Only metadata is stored</li> <li><strong>First Access</strong>: Dependency graph is built and resolved</li> <li><strong>Instance Creation</strong>: Services created in dependency order</li> <li><strong>Caching</strong>: Instances cached for future access</li> </ol> <h3 id=memory-management>Memory Management<a class=headerlink href=#memory-management title="Permanent link">&para;</a></h3> <p>The Container Service is designed for long-running applications:</p> <ul> <li><strong>Service Instances</strong>: Held as strong references (singletons)</li> <li><strong>Dependency Cache</strong>: Cleared on application shutdown</li> <li><strong>Factory Functions</strong>: Garbage collected after first execution</li> <li><strong>Type Metadata</strong>: Minimal memory footprint</li> </ul> <h2 id=testing-integration>Testing Integration<a class=headerlink href=#testing-integration title="Permanent link">&para;</a></h2> <h3 id=service-isolation>Service Isolation<a class=headerlink href=#service-isolation title="Permanent link">&para;</a></h3> <p>The Container Service supports test isolation through service override:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=c1># Production code</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=n>register_service</span><span class=p>(</span><span class=n>ProductionEmailService</span><span class=p>())</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=c1># Test code</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=n>register_service</span><span class=p>(</span><span class=n>MockEmailService</span><span class=p>(),</span> <span class=n>EmailService</span><span class=p>,</span> <span class=n>force</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=c1># All subsequent Inject(EmailService) returns mock</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=c1># Test cleanup</span>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=n>unregister_service</span><span class=p>(</span><span class=n>EmailService</span><span class=p>)</span>
</span></code></pre></div> <h3 id=dependency-mocking>Dependency Mocking<a class=headerlink href=#dependency-mocking title="Permanent link">&para;</a></h3> <p>Complex services can be partially mocked:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=c1># Mock only the database, keep other services real</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=k>class</span><span class=w> </span><span class=nc>TestDatabaseService</span><span class=p>:</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=p>{}</span>  <span class=c1># In-memory storage for tests</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>    <span class=k>def</span><span class=w> </span><span class=nf>query</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>sql</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>        <span class=c1># Test-specific implementation</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a>        <span class=k>pass</span>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=n>register_service</span><span class=p>(</span><span class=n>TestDatabaseService</span><span class=p>(),</span> <span class=n>DatabaseService</span><span class=p>,</span> <span class=n>force</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a>
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=c1># UserService automatically gets the test database</span>
</span><span id=__span-7-13><a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a><span class=n>user_service</span> <span class=o>=</span> <span class=n>get_service</span><span class=p>(</span><span class=n>UserService</span><span class=p>)</span>  <span class=c1># Uses TestDatabaseService</span>
</span></code></pre></div> <h2 id=debugging-and-introspection>Debugging and Introspection<a class=headerlink href=#debugging-and-introspection title="Permanent link">&para;</a></h2> <h3 id=service-registry-inspection>Service Registry Inspection<a class=headerlink href=#service-registry-inspection title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=kn>from</span><span class=w> </span><span class=nn>fastedgy.dependencies</span><span class=w> </span><span class=kn>import</span> <span class=n>get_container_service</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=n>container</span> <span class=o>=</span> <span class=n>get_container_service</span><span class=p>()</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=c1># Check if service is registered</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=k>if</span> <span class=n>container</span><span class=o>.</span><span class=n>has</span><span class=p>(</span><span class=n>DatabaseService</span><span class=p>):</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;DatabaseService is registered&quot;</span><span class=p>)</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=c1># List all registered services (for debugging)</span>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>container</span><span class=o>.</span><span class=n>_map</span><span class=p>:</span>  <span class=c1># Internal access for debugging only</span>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Registered: </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div> <h3 id=dependency-tracing>Dependency Tracing<a class=headerlink href=#dependency-tracing title="Permanent link">&para;</a></h3> <p>Enable debug logging to trace dependency resolution:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=kn>import</span><span class=w> </span><span class=nn>logging</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=c1># Enable detailed logging</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s1>&#39;fastedgy.dependencies&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>)</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=c1># Now see resolution steps</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=n>service</span> <span class=o>=</span> <span class=n>get_service</span><span class=p>(</span><span class=n>ComplexService</span><span class=p>)</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=c1># DEBUG: Resolving ComplexService</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=c1># DEBUG: Resolving dependency EmailService</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=c1># DEBUG: Resolving dependency DatabaseService</span>
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a><span class=c1># DEBUG: Creating ComplexService instance</span>
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a><span class=c1># DEBUG: Caching ComplexService</span>
</span></code></pre></div> <h2 id=best-practices-for-large-applications>Best Practices for Large Applications<a class=headerlink href=#best-practices-for-large-applications title="Permanent link">&para;</a></h2> <h3 id=service-organization>Service Organization<a class=headerlink href=#service-organization title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=c1># services/</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=c1>#   core/</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=c1>#     database.py      # DatabaseService</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=c1>#     config.py        # AppConfig</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=c1>#     logging.py       # LoggerService</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=c1>#   business/</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=c1>#     users.py         # UserService</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=c1>#     orders.py        # OrderService</span>
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a><span class=c1>#     payments.py      # PaymentService</span>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a><span class=c1>#   external/</span>
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a><span class=c1>#     email.py         # EmailService</span>
</span><span id=__span-10-12><a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a><span class=c1>#     notifications.py # NotificationService</span>
</span></code></pre></div> <h3 id=service-registration-strategy>Service Registration Strategy<a class=headerlink href=#service-registration-strategy title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=c1># config/services.py</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=k>def</span><span class=w> </span><span class=nf>register_core_services</span><span class=p>():</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Register foundational services first.&quot;&quot;&quot;</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>    <span class=n>register_service</span><span class=p>(</span><span class=n>AppConfig</span><span class=p>())</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>    <span class=n>register_service</span><span class=p>(</span><span class=n>LoggerService</span><span class=p>)</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>    <span class=n>register_service</span><span class=p>(</span><span class=n>DatabaseService</span><span class=p>)</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=k>def</span><span class=w> </span><span class=nf>register_business_services</span><span class=p>():</span>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Register business logic services.&quot;&quot;&quot;</span>
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a>    <span class=n>register_service</span><span class=p>(</span><span class=n>UserService</span><span class=p>)</span>
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>    <span class=n>register_service</span><span class=p>(</span><span class=n>OrderService</span><span class=p>)</span>
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a>    <span class=n>register_service</span><span class=p>(</span><span class=n>PaymentService</span><span class=p>)</span>
</span><span id=__span-11-13><a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a>
</span><span id=__span-11-14><a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a><span class=k>def</span><span class=w> </span><span class=nf>register_external_services</span><span class=p>():</span>
</span><span id=__span-11-15><a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Register external integrations.&quot;&quot;&quot;</span>
</span><span id=__span-11-16><a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a>    <span class=n>register_service</span><span class=p>(</span><span class=n>create_email_service</span><span class=p>,</span> <span class=n>EmailService</span><span class=p>)</span>
</span><span id=__span-11-17><a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a>    <span class=n>register_service</span><span class=p>(</span><span class=n>create_notification_service</span><span class=p>,</span> <span class=n>NotificationService</span><span class=p>)</span>
</span><span id=__span-11-18><a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a>
</span><span id=__span-11-19><a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a><span class=c1># app/main.py</span>
</span><span id=__span-11-20><a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a><span class=nd>@asynccontextmanager</span>
</span><span id=__span-11-21><a id=__codelineno-11-21 name=__codelineno-11-21 href=#__codelineno-11-21></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>lifespan</span><span class=p>(</span><span class=n>app</span><span class=p>:</span> <span class=n>FastAPI</span><span class=p>):</span>
</span><span id=__span-11-22><a id=__codelineno-11-22 name=__codelineno-11-22 href=#__codelineno-11-22></a>    <span class=c1># Register in dependency order</span>
</span><span id=__span-11-23><a id=__codelineno-11-23 name=__codelineno-11-23 href=#__codelineno-11-23></a>    <span class=n>register_core_services</span><span class=p>()</span>
</span><span id=__span-11-24><a id=__codelineno-11-24 name=__codelineno-11-24 href=#__codelineno-11-24></a>    <span class=n>register_business_services</span><span class=p>()</span>
</span><span id=__span-11-25><a id=__codelineno-11-25 name=__codelineno-11-25 href=#__codelineno-11-25></a>    <span class=n>register_external_services</span><span class=p>()</span>
</span><span id=__span-11-26><a id=__codelineno-11-26 name=__codelineno-11-26 href=#__codelineno-11-26></a>    <span class=k>yield</span>
</span></code></pre></div> <h3 id=monitoring-and-health-checks>Monitoring and Health Checks<a class=headerlink href=#monitoring-and-health-checks title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=k>class</span><span class=w> </span><span class=nc>ServiceHealthCheck</span><span class=p>:</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Monitor service health and dependencies.&quot;&quot;&quot;</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>container</span> <span class=o>=</span> <span class=n>get_container_service</span><span class=p>()</span>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>    <span class=k>def</span><span class=w> </span><span class=nf>check_service_health</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>        <span class=n>health_status</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a>
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a>        <span class=n>critical_services</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a>            <span class=n>DatabaseService</span><span class=p>,</span>
</span><span id=__span-12-12><a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a>            <span class=n>CacheService</span><span class=p>,</span>
</span><span id=__span-12-13><a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a>            <span class=n>EmailService</span>
</span><span id=__span-12-14><a id=__codelineno-12-14 name=__codelineno-12-14 href=#__codelineno-12-14></a>        <span class=p>]</span>
</span><span id=__span-12-15><a id=__codelineno-12-15 name=__codelineno-12-15 href=#__codelineno-12-15></a>
</span><span id=__span-12-16><a id=__codelineno-12-16 name=__codelineno-12-16 href=#__codelineno-12-16></a>        <span class=k>for</span> <span class=n>service_type</span> <span class=ow>in</span> <span class=n>critical_services</span><span class=p>:</span>
</span><span id=__span-12-17><a id=__codelineno-12-17 name=__codelineno-12-17 href=#__codelineno-12-17></a>            <span class=k>try</span><span class=p>:</span>
</span><span id=__span-12-18><a id=__codelineno-12-18 name=__codelineno-12-18 href=#__codelineno-12-18></a>                <span class=n>service</span> <span class=o>=</span> <span class=n>get_service</span><span class=p>(</span><span class=n>service_type</span><span class=p>)</span>
</span><span id=__span-12-19><a id=__codelineno-12-19 name=__codelineno-12-19 href=#__codelineno-12-19></a>                <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>service</span><span class=p>,</span> <span class=s1>&#39;ping&#39;</span><span class=p>):</span>
</span><span id=__span-12-20><a id=__codelineno-12-20 name=__codelineno-12-20 href=#__codelineno-12-20></a>                    <span class=k>await</span> <span class=n>service</span><span class=o>.</span><span class=n>ping</span><span class=p>()</span>
</span><span id=__span-12-21><a id=__codelineno-12-21 name=__codelineno-12-21 href=#__codelineno-12-21></a>                <span class=n>health_status</span><span class=p>[</span><span class=n>service_type</span><span class=o>.</span><span class=vm>__name__</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;healthy&quot;</span>
</span><span id=__span-12-22><a id=__codelineno-12-22 name=__codelineno-12-22 href=#__codelineno-12-22></a>            <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-12-23><a id=__codelineno-12-23 name=__codelineno-12-23 href=#__codelineno-12-23></a>                <span class=n>health_status</span><span class=p>[</span><span class=n>service_type</span><span class=o>.</span><span class=vm>__name__</span><span class=p>]</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;unhealthy: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-12-24><a id=__codelineno-12-24 name=__codelineno-12-24 href=#__codelineno-12-24></a>
</span><span id=__span-12-25><a id=__codelineno-12-25 name=__codelineno-12-25 href=#__codelineno-12-25></a>        <span class=k>return</span> <span class=n>health_status</span>
</span></code></pre></div> <h2 id=migration-from-other-di-systems>Migration from Other DI Systems<a class=headerlink href=#migration-from-other-di-systems title="Permanent link">&para;</a></h2> <h3 id=from-manual-dependencies>From Manual Dependencies<a class=headerlink href=#from-manual-dependencies title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=c1># Before: Manual dependency management</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=k>class</span><span class=w> </span><span class=nc>UserService</span><span class=p>:</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>db</span> <span class=o>=</span> <span class=n>DatabaseService</span><span class=p>(</span><span class=n>DATABASE_URL</span><span class=p>)</span>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>email</span> <span class=o>=</span> <span class=n>EmailService</span><span class=p>(</span><span class=n>SMTP_HOST</span><span class=p>)</span>
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a>        <span class=bp>self</span><span class=o>.</span><span class=n>logger</span> <span class=o>=</span> <span class=n>LoggerService</span><span class=p>(</span><span class=n>LOG_LEVEL</span><span class=p>)</span>
</span><span id=__span-13-7><a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a>
</span><span id=__span-13-8><a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a><span class=c1># After: Automatic dependency injection</span>
</span><span id=__span-13-9><a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a><span class=k>class</span><span class=w> </span><span class=nc>UserService</span><span class=p>:</span>
</span><span id=__span-13-10><a id=__codelineno-13-10 name=__codelineno-13-10 href=#__codelineno-13-10></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span>
</span><span id=__span-13-11><a id=__codelineno-13-11 name=__codelineno-13-11 href=#__codelineno-13-11></a>                 <span class=n>db</span><span class=p>:</span> <span class=n>DatabaseService</span><span class=p>,</span>
</span><span id=__span-13-12><a id=__codelineno-13-12 name=__codelineno-13-12 href=#__codelineno-13-12></a>                 <span class=n>email</span><span class=p>:</span> <span class=n>EmailService</span><span class=p>,</span>
</span><span id=__span-13-13><a id=__codelineno-13-13 name=__codelineno-13-13 href=#__codelineno-13-13></a>                 <span class=n>logger</span><span class=p>:</span> <span class=n>LoggerService</span><span class=p>):</span>
</span><span id=__span-13-14><a id=__codelineno-13-14 name=__codelineno-13-14 href=#__codelineno-13-14></a>        <span class=bp>self</span><span class=o>.</span><span class=n>db</span> <span class=o>=</span> <span class=n>db</span>
</span><span id=__span-13-15><a id=__codelineno-13-15 name=__codelineno-13-15 href=#__codelineno-13-15></a>        <span class=bp>self</span><span class=o>.</span><span class=n>email</span> <span class=o>=</span> <span class=n>email</span>
</span><span id=__span-13-16><a id=__codelineno-13-16 name=__codelineno-13-16 href=#__codelineno-13-16></a>        <span class=bp>self</span><span class=o>.</span><span class=n>logger</span> <span class=o>=</span> <span class=n>logger</span>
</span></code></pre></div> <h3 id=from-fastapi-depends>From FastAPI Depends()<a class=headerlink href=#from-fastapi-depends title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=c1># Before: Verbose FastAPI dependencies</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=k>def</span><span class=w> </span><span class=nf>get_database</span><span class=p>():</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>    <span class=k>return</span> <span class=n>DatabaseService</span><span class=p>(</span><span class=n>DATABASE_URL</span><span class=p>)</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=k>def</span><span class=w> </span><span class=nf>get_user_service</span><span class=p>(</span><span class=n>db</span><span class=p>:</span> <span class=n>DatabaseService</span> <span class=o>=</span> <span class=n>Depends</span><span class=p>(</span><span class=n>get_database</span><span class=p>)):</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a>    <span class=k>return</span> <span class=n>UserService</span><span class=p>(</span><span class=n>db</span><span class=p>)</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a><span class=nd>@router</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/users&quot;</span><span class=p>)</span>
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>get_users</span><span class=p>(</span><span class=n>service</span><span class=p>:</span> <span class=n>UserService</span> <span class=o>=</span> <span class=n>Depends</span><span class=p>(</span><span class=n>get_user_service</span><span class=p>)):</span>
</span><span id=__span-14-10><a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a>    <span class=k>pass</span>
</span><span id=__span-14-11><a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a>
</span><span id=__span-14-12><a id=__codelineno-14-12 name=__codelineno-14-12 href=#__codelineno-14-12></a><span class=c1># After: Clean Container Service</span>
</span><span id=__span-14-13><a id=__codelineno-14-13 name=__codelineno-14-13 href=#__codelineno-14-13></a><span class=nd>@router</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/users&quot;</span><span class=p>)</span>
</span><span id=__span-14-14><a id=__codelineno-14-14 name=__codelineno-14-14 href=#__codelineno-14-14></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>get_users</span><span class=p>(</span><span class=n>service</span><span class=p>:</span> <span class=n>UserService</span> <span class=o>=</span> <span class=n>Inject</span><span class=p>(</span><span class=n>UserService</span><span class=p>)):</span>
</span><span id=__span-14-15><a id=__codelineno-14-15 name=__codelineno-14-15 href=#__codelineno-14-15></a>    <span class=k>pass</span>  <span class=c1># UserService and DatabaseService auto-resolved</span>
</span></code></pre></div> <h2 id=performance-tuning>Performance Tuning<a class=headerlink href=#performance-tuning title="Permanent link">&para;</a></h2> <h3 id=service-creation-optimization>Service Creation Optimization<a class=headerlink href=#service-creation-optimization title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=c1># Expensive service initialization</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=k>class</span><span class=w> </span><span class=nc>MLModelService</span><span class=p>:</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config</span><span class=p>:</span> <span class=n>AppConfig</span><span class=p>):</span>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a>        <span class=c1># Load large ML model - expensive!</span>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>model</span> <span class=o>=</span> <span class=n>load_model</span><span class=p>(</span><span class=n>config</span><span class=o>.</span><span class=n>model_path</span><span class=p>)</span>
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a>
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a><span class=c1># Optimize with factory and caching</span>
</span><span id=__span-15-8><a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a><span class=nd>@lru_cache</span><span class=p>(</span><span class=n>maxsize</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-15-9><a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a><span class=k>def</span><span class=w> </span><span class=nf>create_ml_model</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>AppConfig</span> <span class=o>=</span> <span class=n>Inject</span><span class=p>(</span><span class=n>AppConfig</span><span class=p>)):</span>
</span><span id=__span-15-10><a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a>    <span class=k>return</span> <span class=n>MLModelService</span><span class=p>(</span><span class=n>config</span><span class=p>)</span>
</span><span id=__span-15-11><a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a>
</span><span id=__span-15-12><a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a><span class=n>register_service</span><span class=p>(</span><span class=n>create_ml_model</span><span class=p>,</span> <span class=n>MLModelService</span><span class=p>)</span>
</span></code></pre></div> <h3 id=memory-usage-monitoring>Memory Usage Monitoring<a class=headerlink href=#memory-usage-monitoring title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=kn>import</span><span class=w> </span><span class=nn>sys</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=kn>import</span><span class=w> </span><span class=nn>gc</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=k>def</span><span class=w> </span><span class=nf>monitor_service_memory</span><span class=p>():</span>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Monitor memory usage of registered services.&quot;&quot;&quot;</span>
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a>    <span class=n>container</span> <span class=o>=</span> <span class=n>get_container_service</span><span class=p>()</span>
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a>
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a>    <span class=n>total_size</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-16-9><a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a>    <span class=n>service_sizes</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-16-10><a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a>
</span><span id=__span-16-11><a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a>    <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>instance</span> <span class=ow>in</span> <span class=n>container</span><span class=o>.</span><span class=n>_map</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-16-12><a id=__codelineno-16-12 name=__codelineno-16-12 href=#__codelineno-16-12></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>callable</span><span class=p>(</span><span class=n>instance</span><span class=p>):</span>  <span class=c1># Skip factories</span>
</span><span id=__span-16-13><a id=__codelineno-16-13 name=__codelineno-16-13 href=#__codelineno-16-13></a>            <span class=n>size</span> <span class=o>=</span> <span class=n>sys</span><span class=o>.</span><span class=n>getsizeof</span><span class=p>(</span><span class=n>instance</span><span class=p>)</span>
</span><span id=__span-16-14><a id=__codelineno-16-14 name=__codelineno-16-14 href=#__codelineno-16-14></a>            <span class=n>service_sizes</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>size</span>
</span><span id=__span-16-15><a id=__codelineno-16-15 name=__codelineno-16-15 href=#__codelineno-16-15></a>            <span class=n>total_size</span> <span class=o>+=</span> <span class=n>size</span>
</span><span id=__span-16-16><a id=__codelineno-16-16 name=__codelineno-16-16 href=#__codelineno-16-16></a>
</span><span id=__span-16-17><a id=__codelineno-16-17 name=__codelineno-16-17 href=#__codelineno-16-17></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Total service memory: </span><span class=si>{</span><span class=n>total_size</span><span class=si>}</span><span class=s2> bytes&quot;</span><span class=p>)</span>
</span><span id=__span-16-18><a id=__codelineno-16-18 name=__codelineno-16-18 href=#__codelineno-16-18></a>    <span class=k>for</span> <span class=n>service</span><span class=p>,</span> <span class=n>size</span> <span class=ow>in</span> <span class=n>service_sizes</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-16-19><a id=__codelineno-16-19 name=__codelineno-16-19 href=#__codelineno-16-19></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  </span><span class=si>{</span><span class=n>service</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>size</span><span class=si>}</span><span class=s2> bytes&quot;</span><span class=p>)</span>
</span></code></pre></div> <h2 id=conclusion>Conclusion<a class=headerlink href=#conclusion title="Permanent link">&para;</a></h2> <p>The Container Service provides a powerful, FastAPI-native approach to dependency injection that maintains simplicity while offering advanced features. By building on FastAPI's existing infrastructure rather than introducing external dependencies, it ensures seamless integration and optimal performance for FastAPI applications.</p> <h2 id=quick-reference>Quick Reference<a class=headerlink href=#quick-reference title="Permanent link">&para;</a></h2> <h3 id=core-functions>Core Functions<a class=headerlink href=#core-functions title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=c1># Service registration</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=n>register_service</span><span class=p>(</span><span class=n>instance</span><span class=p>)</span>                    <span class=c1># Auto-key from type</span>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=n>register_service</span><span class=p>(</span><span class=n>instance</span><span class=p>,</span> <span class=n>CustomKey</span><span class=p>)</span>         <span class=c1># Custom key</span>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=n>register_service</span><span class=p>(</span><span class=n>factory_fn</span><span class=p>,</span> <span class=n>ServiceType</span><span class=p>)</span>     <span class=c1># Factory registration</span>
</span><span id=__span-17-5><a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a>
</span><span id=__span-17-6><a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a><span class=c1># Service access</span>
</span><span id=__span-17-7><a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=n>service</span> <span class=o>=</span> <span class=n>get_service</span><span class=p>(</span><span class=n>ServiceType</span><span class=p>)</span>            <span class=c1># Direct access</span>
</span><span id=__span-17-8><a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a><span class=n>service</span><span class=p>:</span> <span class=n>ServiceType</span> <span class=o>=</span> <span class=n>Inject</span><span class=p>(</span><span class=n>ServiceType</span><span class=p>)</span>    <span class=c1># FastAPI injection</span>
</span><span id=__span-17-9><a id=__codelineno-17-9 name=__codelineno-17-9 href=#__codelineno-17-9></a>
</span><span id=__span-17-10><a id=__codelineno-17-10 name=__codelineno-17-10 href=#__codelineno-17-10></a><span class=c1># Service management</span>
</span><span id=__span-17-11><a id=__codelineno-17-11 name=__codelineno-17-11 href=#__codelineno-17-11></a><span class=n>unregister_service</span><span class=p>(</span><span class=n>ServiceType</span><span class=p>)</span>              <span class=c1># Remove service</span>
</span><span id=__span-17-12><a id=__codelineno-17-12 name=__codelineno-17-12 href=#__codelineno-17-12></a><span class=n>has_service</span><span class=p>(</span><span class=n>ServiceType</span><span class=p>)</span>                     <span class=c1># Check existence</span>
</span></code></pre></div> <h3 id=advanced-features>Advanced Features<a class=headerlink href=#advanced-features title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=c1># Custom tokens</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class=n>TOKEN</span> <span class=o>=</span> <span class=n>Token</span><span class=p>[</span><span class=n>ServiceType</span><span class=p>](</span><span class=s2>&quot;name&quot;</span><span class=p>)</span>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=n>register_service</span><span class=p>(</span><span class=n>instance</span><span class=p>,</span> <span class=n>TOKEN</span><span class=p>)</span>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a><span class=n>service</span> <span class=o>=</span> <span class=n>Inject</span><span class=p>(</span><span class=n>TOKEN</span><span class=p>)</span>
</span><span id=__span-18-5><a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>
</span><span id=__span-18-6><a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a><span class=c1># Service override (testing)</span>
</span><span id=__span-18-7><a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a><span class=n>register_service</span><span class=p>(</span><span class=n>mock</span><span class=p>,</span> <span class=n>RealService</span><span class=p>,</span> <span class=n>force</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-18-8><a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a>
</span><span id=__span-18-9><a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a><span class=c1># Container access (debugging)</span>
</span><span id=__span-18-10><a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a><span class=n>container</span> <span class=o>=</span> <span class=n>get_container_service</span><span class=p>()</span>
</span><span id=__span-18-11><a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a><span class=n>container</span><span class=o>.</span><span class=n>clear_cache</span><span class=p>()</span>
</span></code></pre></div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../advanced/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Advanced Usage"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Advanced Usage </div> </div> </a> <a href=../../queued-tasks/overview/ class="md-footer__link md-footer__link--next" aria-label="Next: Overview"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Overview </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2025 Krafter SAS </div> </div> <div class=md-social> <a href=https://github.com/krafterio/fastedgy target=_blank rel=noopener title=Github class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tooltips", "content.tabs.link", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.prune", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.path", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../assets/javascripts/bundle.92b07e13.min.js></script> </body> </html>